<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>Глава 1.Числа: целые, вещественные, комплексные</title>
        <link href="../../css/style.css" rel="stylesheet">
        <script src="../../js/script.js"></script>
		<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
    </head>
    <body onload="preConvert()">
        <div class = "content">
            <h1>Числа: целые, вещественные, комплексные</h1>
            <ul>
                <h2>В этом параграфе</h2>
                <li><a href="#natur">Целые числа</a></li> <br>
                <li><a href="#bit">Битовые операции</a></li><br>
                <li><a href="#floa">Вещественные числа</a></li><br>
                <li><a href="#compl">Комплексные числа</a></li><br>
                <li><a href="#quest">Вопросы для самоконтроля</a></li><br>
            </ul>
            <p>Числа в Python ничем не отличаются от обычных чисел. Они поддерживают набор самых обычных математических операций:<p>
            <p> <a name="natur"></a>
                <h2>Целые числа (int)</h2><p>


x + y<p>
Сложение<p>
x - y<p>
Вычитание<p>
x * y<p>
Умножение<p>
x / y<p>
Деление<p>
 x // y<p>
 Получение целой части от деления<p>
 x % y<p>
 Остаток от деления<p>
 -x<p>
 Смена знака числа<p>
 abs(x)<p>
 Модуль числа<p>
 divmod(x, y)<p>
 Пара (x // y, x % y)<p>
 x ** y<p>
 Возведение в степень<p>
 pow(x, y[, z])<p>
 xy по модулю (если модуль задан)<p>
 Также нужно отметить, что целые числа в python 3, в отличие от многих других языков, поддерживают длинную арифметику (однако, это требует больше памяти).<p>
>>><p>
>>> 255 + 34<p>
289<p>
>>> 5 * 2<p>
10<p>
>>> 20 / 3<p>
6.666666666666667<p>
>>> 20 // 3<p>
6<p>
>>> 20 % 3<p>
2<p>
>>> 3 ** 4<p>
81<p>
>>> pow(3, 4)<p>
81<p>
>>> pow(3, 4, 27)<p>
0<p>
>>> 3 ** 150<p>
369988485035126972924700782451696644186473100389722973815184405301748249

            </p>
            <a name="bit"></a>
            <h3>Битовые операции</h3>
            <p>
Битовые операции<p>
Над целыми числами также можно производить битовые операции<p>
x | y<p>
 Побитовое или<p>
 x ^ y<p>
 Побитовое исключающее или<p>
 x & y<p>
 Побитовое и<p>
 x << n<p>
 Битовый сдвиг влево<p>
x >> y<p>
Битовый сдвиг вправо<p>

~x<p>
Инверсия битов<p>
Дополнительные методы<p>

int.bit_length() - количество бит, необходимых для представления числа в двоичномвиде, без учёта знака и лидирующих нулей.<p>
<p>
>>><p>
>>> n = -37<p>
>>> bin(n)<p>
'-0b100101'<p>
>>> n.bit_length()<p>
6<p>

int.to_bytes(length,byteorder, *, signed=False) - возвращает строку байтов, представляющих это число.<p>

>>><p>
>>> (1024).to_bytes(2, byteorder='big')<p>
b'\x04\x00'<p>
>>> (1024).to_bytes(10, byteorder='big')<p>
b'\x00\x00\x00\x00\x00\x00\x00\x00\x04\x00'<p>
>>> (-1024).to_bytes(10, byteorder='big', signed=True)<p>
b'\xff\xff\xff\xff\xff\xff\xff\xff\xfc\x00'<p>
>>> x = 1000<p>
>>> x.to_bytes((x.bit_length() // 8) + 1, byteorder='little')<p>
b'\xe8\x03'<p>

classmethod int.from_bytes(bytes,byteorder, *, signed=False) - возвращает число из данной строки байтов.<p>

>>><p>
>>> int.from_bytes(b'\x00\x10', byteorder='big')<p>
16<p>
>>> int.from_bytes(b'\x00\x10', byteorder='little')<p>
4096<p>
>>> int.from_bytes(b'\xfc\x00', byteorder='big', signed=True)<p>
-1024<p>
>>> int.from_bytes(b'\xfc\x00', byteorder='big', signed=False)<p>
64512<p>
>>> int.from_bytes([255, 0, 0], byteorder='big')<p>
16711680<p>


Системы счисления<p>

Те, у кого в школе была информатика, знают, что числа могут быть представлены не только в десятичной системе счисления. К примеру, в компьютере используется двоичный код, и, к примеру, число 19 вдвоичной системе счисления будет выглядеть как 10011. Также иногда нужно переводить числа из одной системы счисления в другую. Python для этого предоставляет несколько функций:<p>

• int([object],[основание системы счисления]) - преобразование к целому числу в десятичной системе счисления. По умолчанию система счисления десятичная, но можно задать любое основание от 2 до 36 включительно.<p>


• bin(x) - преобразование целого числа в двоичную строку.<p>


• hex(х) - преобразование целого числа в шестнадцатеричную строку.<p>


• oct(х) - преобразование целого числа в восьмеричную строку.<p>


            </p>

            <p> <a name="floa"></a>
                <h2>Вещественные числа (float)</h2><p>

Вещественные числа поддерживают те же операции, что и целые. Однако (из-за представления чисел в компьютере) вещественные числа неточны, и это может привести к ошибкам:<p>

>>><p>
>>> 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1<p>
0.9999999999999999<p>

Для высокой точности используют другие объекты (например Decimal и Fraction)).<p>

Также вещественные числа не поддерживают длинную арифметику:<p>

>>><p>
>>> a = 3 ** 1000<p>
>>> a + 0.1<p>
Traceback (most recent call last):<p>
  File "", line 1, in<p>
OverflowError: int too large to convert to float<p>

Простенькие примеры работы с числами:<p>

>>><p>
>>> c = 150<p>
>>> d = 12.9<p>
>>> c + d<p>
162.9<p>
>>> p = abs(d - c)  # Модуль числа<p>
>>> print(p)<p>
137.1<p>
>>> round(p)  # Округление<p>
137<p>
               
            </p>

            <h3>Дополнительные методы</h3>
            <p>
                

float.as_integer_ratio() - пара целых чисел, чьё отношение равно этому числу.<p>

float.is_integer() - является ли значение целым числом.<p>

float.hex() - переводит float в hex (шестнадцатеричную систему счисления).<p>

classmethod float.fromhex(s) - float из шестнадцатеричной строки.<p>

>>><p>
>>> (10.5).hex()<p>
'0x1.5000000000000p+3'<p>
>>> float.fromhex('0x1.5000000000000p+3')<p>
10.5<p>

Помимо стандартных выражений для работы с числами (а в Python их не так ужи много), в составе Python есть несколько полезных модулей.<p>

Модуль math предоставляет более сложные математические функции.<p>

>>><p>
>>> import math<p>
>>> math.pi<p>
3.141592653589793<p>
>>> math.sqrt(85)<p>
9.219544457292887<p>

Модуль random реализует генератор случайных чисел и функции случайного выбора.<p>

>>><p>
>>> import random<p>
>>> random.random()<p>
0.15651968855132303<p>
    <a name="compl"></a>
    <h3> Комплексные числа (complex) </h3><p>

В Python встроены также и комплексные числа:<p>

>>><p>
>>> x = complex(1, 2)<p>
>>> print(x)<p>
(1+2j)<p>
>>> y = complex(3, 4)<p>
>>> print(y)<p>
(3+4j)<p>
>>> z = x + y<p>
>>> print(x)<p>
(1+2j)<p>
>>> print(z)<p>
(4+6j)<p>
>>> z = x * y<p>
>>> print(z)<p>
(-5+10j)<p>
>>> z = x / y<p>
>>> print(z)<p>
(0.44+0.08j)<p>
>>> print(x.conjugate())  # Сопряжённое число<p>
(1-2j)<p>
>>> print(x.imag)  # Мнимая часть<p>
2.0<p>
>>> print(x.real)  # Действительная часть<p>
1.0<p>
>>> print(x > y)  # Комплексные числа нельзя сравнить<p>
Traceback (most recent call last):<p>
  File "", line 1, in<p>
TypeError: unorderable types: complex() > complex()<p>
>>> print(x == y)  # Но можно проверить на равенство<p>
False<p>
>>> abs(3 + 4j)  # Модуль комплексного числа<p>
5.0<p>
>>> pow(3 + 4j, 2)  # Возведение в степень<p>
(-7+24j)<p>


            </p>
            <a name="quest"></a>
            <h3>Вопросы для самоконтроля:</h3>
            <ul>
                <li>Напишите программу-калькулятор для целых чисел.</li>
            </ul>
        </div>
	</body>
</html>